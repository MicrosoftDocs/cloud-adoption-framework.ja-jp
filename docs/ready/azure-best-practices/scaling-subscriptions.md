---
title: Azure サブスクリプションによるスケーリング
description: Azure のクラウド導入フレームワークを使用して、複数の Azure サブスクリプションを使用してスケーリングするための戦略を策定する方法を学習します。
author: alexbuckgit
ms.author: abuck
ms.date: 05/20/2019
ms.topic: guide
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.openlocfilehash: b734446a4bac7d8db12119b2248aece9a3377d37
ms.sourcegitcommit: d660484d534bc61fc60470373f3fcc885a358219
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/18/2020
ms.locfileid: "79508391"
---
# <a name="scale-with-multiple-azure-subscriptions"></a>複数の Azure サブスクリプションでの拡張

通常、組織では、リソースの制限やその他のガバナンスに関する考慮の結果として、複数の Azure サブスクリプションが必要です。 サブスクリプションを拡張する戦略を立てておくことが重要です。

## <a name="production-and-nonproduction-workloads"></a>運用環境と非運用環境のワークロード

運用ワークロードを初めて Azure にデプロイするときは、2 つのサブスクリプションから始める必要があります。1 つは運用環境用、もう 1 つは非運用 (開発/テスト) 環境用です。

!["運用" と "非運用" のラベルが付いたボックスとその横にキーが示された基本のサブスクリプション モデル](../../_images/ready/initial-subscription-model.png)

いくつかの理由からこのアプローチをお勧めします。

- Azure には、開発/テスト ワークロード専用のサブスクリプション オファリングがあります。 このオファリングでは、Azure のサービスとライセンスを割引料金で利用できます。
- 運用環境と非運用環境では、Azure ポリシーのセットが異なることが多くなります。 サブスクリプションを分けることで、サブスクリプション レベルで独自のポリシー セットを簡単に適用できます。
- 開発/テスト サブスクリプションで、テストのために特定の種類の Azure リソースが必要になることがあります。 別個のサブスクリプションを用意すると、運用環境に配置することなく、そのような種類のリソースを使用できます。
- 開発/テスト サブスクリプションは、分離されたサンドボックス環境として使用できます。 このようなサンドボックスを使用すると、管理者と開発者は、Azure リソースのセット全体の構築と破棄を短時間で行うことができます。 この分離は、データ保護やセキュリティ上の問題に対応する場合にも役立ちます。
- 通常、許容されるコストのしきい値は、運用サブスクリプションと開発/テスト サブスクリプションで異なります。

## <a name="other-reasons-for-multiple-subscriptions"></a>複数のサブスクリプションを使うその他の理由

サブスクリプションの追加が必要となる状況は他にもあります。 クラウド資産を拡張するときは、次の点に留意してください。

- サブスクリプションの制限はリソースの種類によって異なります。 たとえば、あるサブスクリプションでは仮想ネットワークの数に制限があります。 サブスクリプションがその制限に近づいたとき、別のサブスクリプションを作成し、そこに新しいリソースを置く必要があります。

  詳細については、「[Azure サブスクリプションとサービスの制限、クォータ、制約](https://docs.microsoft.com/azure/azure-subscription-service-limits)」をご覧ください。

- デプロイできるリソースの種類とサポートされるリージョンに対して、サブスクリプションごとに独自のポリシーを実装できます。

- パブリック クラウド リージョンとソブリンまたは政府クラウド リージョンでは、サブスクリプションの制限が異なります。 これは多くの場合、環境間でデータ分類レベルが異なっていることが要因です。

- セキュリティやコンプライアンス上の理由でユーザーのセットを完全に分ける場合、個別のサブスクリプションが必要となることがあります。 たとえば、必要に応じて、政府機関がサブスクリプションへのアクセスを国民に限定することがあります。

- サブスクリプションによってプランの種類が異なる場合があり、それぞれに独自の条件と特典が提供されます。

- サブスクリプションの所有者とデプロイされるリソースの所有者の間に信頼上の問題が存在している場合があります。 異なる所有権で別のサブスクリプションを使用すると、これらの問題を軽減できますが、このデプロイで発生するネットワークとデータ保護の問題についても考慮する必要があります。

- 財務面または地政面で厳重な管理を行う場合に、個々のサブスクリプションで個別の財務的な取り決めが必要となることがあります。 こうした懸念には、データ主権、複数の子会社を持つ企業、ビジネス ユニットに対する会計や請求の処理が国および通貨ごとに異なる場合などの考慮事項が含まれます。

- 従来のデプロイ モデルを使用して作成された Azure リソースは、独自のサブスクリプションに分離する必要があります。 従来のリソースのセキュリティは、Azure Resource Manager からデプロイされた Azure リソースの場合とは異なります。 従来のリソースには Azure ポリシーを適用できません。

- 従来のリソースを使用するサービス管理者には、サブスクリプションに関して、ロールベースのアクセス制御 (RBAC) 所有者と同じアクセス許可が与えられます。 従来のリソースと Resource Manager リソースが混在するサブスクリプションでこのサービス管理者のアクセス権を十分に絞り込むことは困難です。

また、組織に固有のビジネス上あるいは技術上の理由から追加のサブスクリプションを作成する場合があります。 サブスクリプション間のデータのイングレスとエグレスに対して追加コストが発生することがあります。

さまざまな種類のリソースをサブスクリプション間で移動したり、自動デプロイを利用してリソースを別のサブスクリプションに移行したりできます。 詳細については、[別のリソース グループまたはサブスクリプションへの Azure リソースの移動](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-move-resources)に関する記事をご覧ください。

## <a name="manage-multiple-subscriptions"></a>複数のサブスクリプションを管理する

サブスクリプションの数がわずかであれば、比較的簡単に個別管理できます。 しかし、サブスクリプションの数が多い場合は、管理グループ階層を作成してサブスクリプションとリソースの管理を簡素化します。

管理グループを使用すると、組織のサブスクリプションのアクセス、ポリシー、コンプライアンスを効率よく管理できます。 各管理グループは、1 つ以上のサブスクリプションのコンテナーです。

管理グループは 1 つの階層に配置されます。 組織の構造やニーズに合わせるために、この階層は Azure Active Directory (Azure AD) テナントで定義します。 最上位のレベルは*ルート管理グループ*と呼ばれます。 階層には、最大 6 レベルの管理グループを定義できます。 各サブスクリプションは 1 つの管理グループだけに属します。

Azure には、管理グループ、サブスクリプション、リソース グループ、およびリソースという 4 つのレベルの管理スコープが用意されています。 階層内のあるレベルに適用されているアクセス権やポリシーは、その下のレベルに継承されます。 リソース所有者またはサブスクリプション所有者は、継承されたポリシーを変更できません。 この制限によりガバナンスを向上させることができます。

> [!NOTE]
> タグの継承は現時点では使用できませんが、まもなく使用可能になることに注意してください。

この継承モデルを利用し、各サブスクリプションが適切なポリシーやセキュリティ コントロールに準拠するように、階層内にサブスクリプションを配置できます。

![Azure リソースを整理するための 4 つのスコープ レベル](../../ready/azure-setup-guide/media/organize-resources/scope-levels.png)

ルート管理グループに割り当てられたアクセス権やポリシーは、ディレクトリ内のすべてのリソースに適用されます。 このスコープで定義する項目は慎重に検討してください。 割り当ては必要なものだけを含めてください。

管理グループ階層を定義するとき、まず、ルート管理グループを作成します。 次に、ディレクトリ内の既存のすべてのサブスクリプションをルート管理グループに移動します。 新しいサブスクリプションは常にルート管理グループで作成されます。 後で別の管理グループに移動できます。

サブスクリプションを既存の管理グループに移動すると、それより上位の管理グループ階層からポリシーとロールの割り当てが継承されます。 Azure ワークロード用に複数のサブスクリプションを作成したら、他のサブスクリプションと共有される Azure サービスを格納する追加のサブスクリプションを作成する必要があります。

![管理グループ階層の例](../../_images/ready/management-group-hierarchy-v2.png)

詳細については、「[Azure 管理グループでリソースを整理する](https://docs.microsoft.com/azure/governance/management-groups)」をご覧ください。

## <a name="tips-for-creating-new-subscriptions"></a>新しいサブスクリプションを作成するためのヒント

- サブスクリプションの新規作成の担当者を特定します。
- サブスクリプションに既定で追加されるリソースを決定します。
- すべての標準サブスクリプションの外観を決定します。 RBAC アクセス、ポリシー、タグ、インフラストラクチャ リソースなどの考慮事項があります。
- 可能であれば、[サービス プリンシパルを使用し](https://docs.microsoft.com/azure/azure-resource-manager/grant-access-to-create-subscription)、新しいサブスクリプションを作成します。 自動化されたワークフローを通じて新しいサブスクリプションを要求できるセキュリティ グループを定義します。
- エンタープライズ契約 (EA) をご利用のお客様は、組織で非 EA サブスクリプションの作成がブロックされるように Azure サポートにご依頼ください。

## <a name="related-resources"></a>関連リソース

- [Azure の基本的な概念](../considerations/fundamental-concepts.md)。
- [Azure 管理グループでリソースを整理する](https://docs.microsoft.com/azure/governance/management-groups)
- [Azure のすべてのサブスクリプションと管理グループを管理する目的でアクセス権限を昇格させる](https://docs.microsoft.com/azure/role-based-access-control/elevate-access-global-admin)。
- [Azure リソースを別のリソース グループやサブスクリプションに移動する](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-move-resources)。

## <a name="next-steps"></a>次のステップ

Azure リソースをデプロイするときに従う[推奨される名前付けとタグ付けの規則](./naming-and-tagging.md)を確認します。

> [!div class="nextstepaction"]
> [推奨される名前付けおよびタグ付け規則](./naming-and-tagging.md)

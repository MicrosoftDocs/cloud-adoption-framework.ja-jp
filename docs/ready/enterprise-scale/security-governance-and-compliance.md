---
title: セキュリティ、ガバナンス、およびコンプライアンス
description: セキュリティ、ガバナンス、およびコンプライアンス
author: BrianBlanchard
ms.author: brblanch
ms.date: 06/15/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.openlocfilehash: 96f685cc3f38022696d7eb9e12aca8e651ff80a4
ms.sourcegitcommit: 9b183014c7a6faffac0a1b48fdd321d9bbe640be
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/19/2020
ms.locfileid: "85076823"
---
# <a name="security-governance-and-compliance"></a>セキュリティ、ガバナンス、およびコンプライアンス

## <a name="define-encryption-and-key-management"></a>暗号化とキー管理を定義する

暗号化は、Microsoft Azure でデータのプライバシー、コンプライアンス、およびデータの保存場所を確保するための重要な手順です。 また、多くの企業のお客様にとって、最も重要なセキュリティに関する考慮事項の 1 つでもあります。 このセクションでは、暗号化とキー管理に関連する設計上の考慮事項と推奨事項について説明します。

**設計上の考慮事項:**

- Azure Key Vault に適用されるサブスクリプションとスケールの制限:Key Vault には、キーとシークレットのトランザクション制限があります。 特定の期間内のコンテナーごとのトランザクションを調整するには、([Azure の制限](https://docs.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits)) に関するページを参照してください。

- キー、シークレット、および証明書のアクセス許可はコンテナー レベルであるため、Key Vault はセキュリティ境界として機能します。 Key Vault アクセス ポリシーの割り当てを使用してキー、シークレット、または証明書に個別にアクセス許可を付与することができますが、特定のキー、シークレット、または証明書などのオブジェクトレベルの詳細なアクセス許可はサポートしていません ([キー管理](https://docs.microsoft.com/azure/security/fundamentals/data-encryption-best-practices))。

- 必要に応じて、アプリケーション固有とワークロード固有のシークレットと共有シークレットを分離できます ([アクセス制御](https://docs.microsoft.com/azure/key-vault/general/best-practices))。

<!-- cSpell:ignore FIPS -->

- ハードウェアセキュリティモジュールで保護されたキーが必要な場合は、Premium SKU を最適化できます。 基となるハードウェア セキュリティ モジュール (HSM) は、FIPS 140-2 レベル 2 に準拠しています。 サポートされているシナリオを考慮した、FIPS 140-2 レベル 3 準拠のマネージド Azure 専用 HSM。

- キーのローテーションとシークレットの有効期限。

  Key Vault を使用した証明書の調達と署名: ([証明書の概要](https://docs.microsoft.com/azure/key-vault/certificates/about-certificates)) アラートまたは通知と、証明書の自動更新。

- キー、証明書、およびシークレットのディザスター リカバリーの要件。

  Key Vault サービスのレプリケーションとフェールオーバー機能: ([可用性と冗長性](https://docs.microsoft.com/azure/key-vault/general/disaster-recovery-guidance))。

- キー、証明書、シークレットの使用状況の監視。

  キー コンテナーまたは Azure Monitor Log Analytics ワークスペースを使用した不正アクセスの検出: ([監視とアラート](https://docs.microsoft.com/azure/key-vault/general/alert))

- 委任された Key Vault のインスタンス化と特権アクセス: ([セキュリティで保護されたアクセス](https://docs.microsoft.com/azure/key-vault/general/secure-your-key-vault))

- ストレージ サービス暗号化 (SSE) などのネイティブ暗号化メカニズムにカスタマーマネージド キーを使用する場合の要件:[カスタマーマネージド キー](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-portal))

- 仮想マシン (VM) のディスク全体の暗号化

- 転送中データの暗号化。

- 保存データの暗号化。

**設計上の推奨事項:**

- トランザクション スケールの制限を回避するために、フェデレーション Key Vault モデルを使用します。

- 削除されたオブジェクトのリテンション期間の保護を可能にするために、論理的な削除と消去のポリシーを有効にして Key Vault をプロビジョニングします。

- キー、シークレット、および証明書を完全に削除する承認を、特別なカスタム Azure Active Directory ロールに制限することで、最小限の特権モデルに従います。

- 管理を容易にするために、公開証明機関を使用して証明書の管理と更新プロセスを自動化します。

- キーと証明書のローテーションの自動化プロセスを確立します。

- コンテナーに対してファイアウォールと仮想ネットワーク サービス エンドポイントを有効にして、キー コンテナーへのアクセスを制御します。

- プラットフォーム中心の Azure Monitor Log Analytics ワークスペースを使用して、各 Key Vault インスタンス内のキー、証明書、シークレットの使用状況を監査します。

- Azure ポリシーを使用して、Key Vault のインスタンス化と特権アクセスを委任し、一貫性のある構成を適用します。

- 既定で主要な暗号化機能には Microsoft マネージド キーが使用され、必要に応じてカスタマーマネージド キーが使用されます。

- アプリケーション キーまたはシークレットには一元的な Key Vault インスタンスを使用しないでください。

- 環境全体でシークレットを共有しないように、アプリケーション間で Key Vault インスタンスを共有しないでください。

## <a name="planning-for-governance"></a>ガバナンスの計画

ガバナンスは、Azure のアプリケーションとリソースに対するコントロールを維持するメカニズムとプロセスを提供します。 Azure ポリシーは、企業の技術資産内のセキュリティとコンプライアンスを確保するために不可欠です。 Azure プラットフォーム サービス全体に重要な管理とセキュリティの規則を適用できるだけでなく、承認されたユーザーが実行できるアクションを制御するロールベースのアクセス制御を補うことができます。

**設計上の考慮事項:**

- 必要な Azure ポリシーを決定します

- プライベート エンドポイントの使用などの管理およびセキュリティ規則の適用

- ポリシー割り当てを管理および作成するには、継承された複数の割り当てスコープでポリシー定義を再利用できます。 管理グループ、サブスクリプション、およびリソース グループのスコープで、一元的なベースライン ポリシーを割り当てることができます。

- 継続的なコンプライアンスを確保するためのコンプライアンス レポートと監査

- Azure ポリシーには、特定のスコープでの定義の制限などの制限があります ([ポリシーの制限](https://docs.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits))。

- 健康保険の携帯性と説明責任に関する法律ペイメント カード業界 (PCI)、データ セキュリティ基準、サービス組織制御 (SOC) 信頼サービス プリンシパル、基準などの法令遵守ポリシー。

**設計上の推奨事項:**

- 必要な Azure タグを特定し、追加ポリシー モードを使用して使用法を適用します

- 規制およびコンプライアンスの要件を、Azure ポリシー定義と Azure AD のロールベースのアクセス制御の割り当てにマッピングします

- 継承されたスコープで割り当てることができるように、最上位レベルのルート管理グループで Azure ポリシー定義を確立します

- 必要に応じて、最下位レベルでの除外を使用して、最適なレベルでポリシーの割り当てを管理します

- Azure ポリシーを使用して、サブスクリプションまたは管理グループ、またはその両方のレベルでリソース プロバイダーの登録を制御します

- 可能な場合は組み込みポリシーを使用して、運用上のオーバーヘッドを最小限に抑えます

- 組み込みのポリシー共同作成者ロールを特定のスコープに割り当てて、アプリケーションレベルのガバナンスを有効にします

- 継承されたスコープでの除外による管理を回避するために、ルート管理グループ スコープで行われる Azure ポリシー割り当ての数を制限します

## <a name="define-security-monitoring-and-an-audit-policy"></a>セキュリティの監視と監査ポリシーを定義する

企業のお客様は、技術的なクラウド資産内で何が起こっているかを把握することが重要です。 Azure プラットフォーム サービスのセキュリティの監視と監査ログは、スケーラブルなフレームワークの主要コンポーネントです。

**設計上の考慮事項:**

- 監査データのデータ保持期間 (Azure AD レポート (Premium) の保持期間は 30 日間です)

- Azure アクティビティ ログ、VM ログ、サービスとしてのプラットフォーム (PaaS) ログなどのログの長期アーカイブ

- Azure のゲスト内 VM ポリシーによるベースライン セキュリティ構成

- 重大な脆弱性に対する緊急パッチ

- 長期間オフラインである VM のパッチ

- リアルタイムの監視とアラートの要件

- セキュリティ情報およびイベント管理と、Azure Security Center および Sentinel との統合

- VM の脆弱性評価

**設計上の推奨事項:**

- Azure AD レポート機能を使用してアクセス制御の監査レポートを生成します

- 必要に応じて、長期のデータ保持には Azure アクティビティ ログを Azure Monitor ログにエクスポートし、2 年を超える長期保存には Azure Storage にエクスポートします

- コンプライアンスを確保するために Azure ポリシーを使用して、すべてのサブスクリプションに対して Security Center (Standard SKU) を有効にします

- Azure Monitor ログと Azure Security Center を介してベース OS のパッチのドリフトを監視します

- Azure ポリシーを使用して、VM 拡張機能を介してソフトウェア構成を自動的にデプロイし、準拠するベースライン VM 構成を適用します

- Azure ポリシーを介して VM セキュリティ構成のドリフトを監視します

- 既定のリソース構成を一元化された Azure Monitor Log Analytics ワークスペースに接続します

- ログ指向のリアルタイム アラートに Event Grid ベースのソリューションを使用します

## <a name="plan-for-platform-security"></a>プラットフォームのセキュリティを計画する

企業のお客様が Azure を採用する際には、健全なセキュリティ体制を維持することが不可欠です。 可視性に加えて、Azure サービスの進化に伴う初期設定と変更を制御できる必要があります。 そのため、プラットフォームのセキュリティを計画することが重要です。

**設計上の考慮事項:**

- Shared responsibility

- 高可用性とディザスター リカバリー

- データ管理とコントロール プレーンの運用に関して、Azure サービス全体で一貫したセキュリティ

- Key Vault を支える Hyper-V や HSM からデータベース エンジンまで、主要なプラットフォーム コンポーネントの内部にあるマルチテナント機能

**設計上の推奨事項:**

- 必要な各サービスの共同検査は、基となるお客様の要件のコンテキスト内で行う必要があります。 お客様が独自のキーを使用する場合、考慮されているすべてのサービスでこの点がサポートされていない可能性があります。 不整合によって意図した結果が妨げられないように、関連する軽減策を実装する必要があります。 待機時間を最小限に抑える適切なリージョン ペアとディザスター リカバリー リージョンを選択します。

- サービスのセキュリティ構成、監視、アラート、およびこれらを既存のシステムと統合する方法を評価するために、セキュリティ ホワイトリスト登録計画を作成します。

- ホワイトリストに登録する前に、Azure サービスのインシデント対応計画を決定します。

- Azure AD レポート機能を使用してアクセス制御の監査レポートを生成します。

- お客様のセキュリティ要件を Azure プラットフォームのロード マップに合わせて、新しくリリースされたセキュリティ コントロールを最新の状態に保ちます。

- 必要に応じて、Azure プラットフォームにアクセスするためのゼロ信頼アプローチを実装します。

## <a name="service-enablement-framework"></a>サービス有効化フレームワーク

ビジネス ユニットからワークロードを Azure にデプロイするように要求される場合、適切なレベルのガバナンス、セキュリティ、コンプライアンスを達成する方法を決定するために、ワークロードにさらに可視性が必要になります。 オンボードされていない新しいサービスが必要な場合、サービスを許可する必要があります。 Azure サービスのエンタープライズ セキュリティの準備状況を評価するためのフレームワークを次の表に示します。

| 評価                    | カテゴリ                                                              | 条件                                                                                                                                     |
|------------------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| Security                     | ネットワーク エンドポイント                                                      | サービスには、仮想ネットワークの外部からアクセスできるパブリック エンドポイントがありますか。                                                                |
|                              |                                                                       | 仮想ネットワーク サービス エンドポイントをサポートしていますか。                                                                                                      |
|                              |                                                                       | Azure サービスとサービス エンドポイントは直接対話できますか。                                                                              |
|                              |                                                                       | Private Link エンドポイントをサポートしていますか。                                                                                                           |
|                              |                                                                       | 仮想ネットワーク内にデプロイできますか。                                                                                                            |
|                              | データの流出防止                                          | PaaS サービスには、ExpressRoute Microsoft ピアリングに個別のボーダー ゲートウェイ プロトコル コミュニティがありますか (言い換えると、サービスのルート フィルターは公開されていますか)。 |
|                              |                                                                       | サービスは Private Link エンドポイントをサポートしていますか。                                                                                                       |
|                              | 管理およびデータ プレーン操作にネットワーク トラフィック フローを適用する | サービスに出入りするトラフィックを検査することはできますか。 ユーザー定義のルーティングを使用してトラフィックを強制的にトンネリングできますか。                                    |
|                              |                                                                       | 管理操作に Azure 共有パブリック IP 範囲は使用されますか。                                                                                 |
|                              |                                                                       | 管理トラフィックは、ホストで公開されているリンクローカル エンドポイントを介して送信されていますか。                                                                |
|                              | 保存時のデータの暗号化                                               | 暗号化は既定で適用されますか。                                                                                                            |
|                              |                                                                       | 暗号化を無効にすることはできますか。                                                                                                                  |
|                              |                                                                       | 暗号化は、Microsoft マネージド キーとカスタマーマネージド キーのどちらを使用して実行されますか。                                                   |
|                              | 転送中のデータの暗号化                                            | サービスへのトラフィックはプロトコル レベル (セキュア ソケット レイヤー、トランスポート層セキュリティ) で暗号化されていますか。                                                                           |
|                              |                                                                       | HTTP エンドポイントはありますか。また、それらを無効にすることはできますか。                                                                                        |
|                              |                                                                       | 基となるサービス通信も暗号化されていますか。                                                                                          |
|                              |                                                                       | 暗号化は、Microsoft マネージド キーとカスタマーマネージド キーのどちらを使用して実行されますか (独自の暗号化をサポートしていますか)。                                                                               |
|                              | ソフトウェアのデプロイ                                                   | アプリケーション ソフトウェアまたはサードパーティ製品をサービスにデプロイすることはできますか。                                                                 |
|                              |                                                                       | ソフトウェアのデプロイの実行と管理はどのように行われますか。                                                                                            |
|                              |                                                                       | ソースまたはコードの整合性を制御するためにポリシーを適用できますか。                                                                                   |
|                              |                                                                       | ソフトウェアがデプロイ可能な場合、マルウェア対策、脆弱性管理、およびセキュリティ監視ツールを使用できますか。                                  |
|                              |                                                                       | サービスはそのような機能をネイティブで提供していますか (たとえば、AKS)。                                                                              |
| ID 管理とアクセス管理 | 認証とアクセス制御                                       | すべてのコントロール プレーン操作は Azure AD によって管理されていますか (言い換えると、Kubernetes などの入れ子になったコントロール プレーンはありますか)。                             |
|                              |                                                                       | データ プレーンへのアクセスを提供するにはどのような方法がありますか。                                                                                      |
|                              |                                                                       | データ プレーンは Azure AD と統合されますか。                                                                                                      |
|                              |                                                                       | Azure から Azure (サービスからサービス) への認証には MSI およびサービス プリンシパルを使用しますか。                                                         |
|                              |                                                                       | Azure から IaaS (サービスから仮想ネットワーク) への認証は Azure AD を介していますか。                                                                                   |
|                              |                                                                       | 適用可能なキーと sas はどのように管理されますか。                                                                                                     |
|                              |                                                                       | アクセスはどのような方法で取り消すことができますか。                                                                                                                   |
|                              | 職務の分離                                                 | サービスでは、Azure AD 内のコントロール プレーンとデータ プレーンの操作は分離されていますか。                                                                |
|                              | 多要素認証と条件付きアクセス                                            | ユーザーからサービスへの対話に多要素認証は適用されますか。                                                                                            |
| ガバナンス                   | データのエクスポートとインポート                                                  | サービスでは、データを安全に暗号化してインポートおよびエクスポートできますか。                                                                     |
|                              | データのプライバシーと使用状況                                                  | Microsoft のエンジニアはデータにアクセスできますか。                                                                                                     |
|                              |                                                                       | Microsoft サポートによる監査対象サービスの操作はありますか。                                                                               |
|                              | データの保存場所                                                        | データはサービス デプロイ リージョンに含まれていますか。                                                                                          |
| 操作                   | 監視                                                            | サービスは Azure Monitor と統合されますか。                                                                                               |
|                              | バックアップ管理                                                     | どのワークロード データをバックアップする必要がありますか。                                                                                                       |
|                              |                                                                       | バックアップはどのようにキャプチャされますか。                                                                                                                    |
|                              |                                                                       | バックアップはどのくらいの頻度で実行できますか。                                                                                                         |
|                              |                                                                       | バックアップはどのくらいの期間保持されますか。                                                                                                        |
|                              |                                                                       | バックアップは暗号化されますか?                                                                                                                       |
|                              |                                                                       | バックアップの暗号化は、Microsoft マネージド キーとカスタマーマネージド キーのどちらを使用して実行されますか。                                                                                             |
|                              | 障害復旧                                                     | このサービスはリージョン冗長の方法でどのように使用できますか。                                                                                 |
|                              |                                                                       | 達成できる RTO と RPO は何ですか。                                                                                                          |
|                              | SKU                                                                   | 使用可能な SKU は何ですか。 それらにどのような違いがありますか。                                                                                             |
|                              |                                                                       | Premium SKU のセキュリティに関連する機能はありますか。                                                                                  |
|                              | 容量管理                                                   | 容量はどのように監視されますか。                                                                                                                   |
|                              |                                                                       | 水平スケールの単位は何ですか。                                                                                                        |
|                              | パッチと更新プログラムの管理                                             | サービスにはパッチの適用が必要ですか。それともサービスによって抽象化されていますか。                                                                        |
|                              |                                                                       | パッチはどのくらいの頻度で適用されますか。また、自動化できますか。                                                                                |
|                              | Audit                                                                 | 入れ子になったコントロール プレーン操作はキャプチャされますか (AKS や Azure Databricks など)。                                                                      |
|                              |                                                                       | 主要なデータ プレーン アクティビティは記録されますか。                                                                                                      |
|                              | 構成管理                                              | すべてのリソースにタグをサポートし、`put` スキーマを用意しますか。                                                                             |
| Azure サービスのコンプライアンス     | サービスの構成証明、認定、および外部監査                | サービスは PCI、ISO、または SOC に準拠していますか。                                                                                                        |
|                              | サービスの提供状況                                                  | サービスはプライベート プレビュー、パブリック プレビュー、または一般提供ですか。                                                                                            |
|                              |                                                                       | このサービスは、どのリージョンで利用できますか。                                                                                                    |
|                              |                                                                       | サービスはどのようなデプロイ スコープですか (言い換えると、地域のサービスですか、それともグローバルなサービスですか)。                                                      |
|                              | サービス レベル アグリーメント (SLA)                                              | サービス可用性の SLA はどのようなものですか。                                                                                                    |
|                              |                                                                       | 該当する場合、パフォーマンスの SLA はどのようなものですか。                                                                                              |

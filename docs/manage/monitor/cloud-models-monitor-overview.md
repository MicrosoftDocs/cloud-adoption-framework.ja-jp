---
title: クラウド監視ガイド – クラウド デプロイ モデルの監視戦略
titleSuffix: Microsoft Cloud Adoption Framework for Azure
description: Microsoft Azure で Azure Monitor または System Center Operations Manager を使用するタイミングを選択します
author: MGoedtel
ms.author: magoedte
ms.date: 10/04/2019
ms.topic: guide
ms.service: cloud-adoption-framework
ms.subservice: operate
services: azure-monitor
ms.openlocfilehash: 9fdef4d5d3d9cd39d16566221262330ef110bb3a
ms.sourcegitcommit: 35c162d2d09ec1c4a57d3d57a5db1d56ee883806
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2019
ms.locfileid: "72548170"
---
# <a name="cloud-monitoring-guide-monitoring-strategy-for-cloud-deployment-models"></a>クラウド監視ガイド: クラウド デプロイ モデルの監視戦略

この記事では、次の基準に基づいて、クラウド デプロイ モデルごとに推奨する監視戦略について説明します。

- ご利用の IT 運用プロセス、知識、および専門知識との統合のため、または Azure Monitor で特定の機能がまだ利用可能でないことから、お客様は Operations Manager またはその他のエンタープライズ監視プラットフォームへの継続的な取り組みが必要です。
- あなたはオンプレミスとパブリック クラウドの両方で、またはクラウド内だけでワークロードを監視する必要があります。
- あなたのクラウド移行戦略には、IT 運用の最新化や、Microsoft のクラウド監視サービスおよびソリューションへの移行が含まれます。
- エアギャップにより、または物理的に隔離され、プライベート クラウドまたは物理ハードウェアでホストされ、かつ監視を必要とする重要なシステムをあなたは備えている場合があります。

完全なサービス指向の監視の観点を提供するために、Microsoft の戦略には、インフラストラクチャ (コンピューティング、ストレージ、サーバーのワークロード)、アプリケーション (エンド ユーザー、例外、クライアント)、ネットワーク リソースを監視するためのサポートが含まれています。

## <a name="azure-cloud-monitoring"></a>Azure クラウドの監視

Azure Monitor は、Azure リソースを 1 つのソースから監視できる Azure ネイティブ プラットフォーム サービスです。 Azure 上に構築されるクラウド ソリューションで、VM ワークロードに基づいたビジネス機能をサポートするもの、または、マイクロサービスやその他のプラットフォーム リソースを利用する複雑なアーキテクチャをサポートするもの向けに設計されています。 Azure Active Directory Domain Services などのテナント サービスから、サブスクリプション レベルのイベント、Azure サービスの正常性まで、スタックのすべてのレイヤーを監視します。 VM、ストレージ、ネットワーク リソースなどのインフラストラクチャ リソース、そして最上位レイヤーのアプリケーションも監視します。 これらの各依存関係を監視し、それぞれが発する可能性がある適切な信号を収集することで、アプリケーションや主要インフラストラクチャを必要に応じて観察できるようになります。

次の表は、スタックの各レイヤーを監視するための推奨される方法をまとめたものです。

<!-- markdownlint-disable MD033 -->

レイヤー | リソース | Scope (スコープ) | 方法
---|---|---|----
Application | Azure VM、Azure App Services、Azure Service Fabric、Azure Functions、および Azure Cloud Services 上の .NET、.NET Core、Java、JavaScript、および Node.js プラットフォームで実行されている Web ベースのアプリケーション | ライブ Web アプリケーションを監視して、パフォーマンスの異常を自動検出し、コードの例外と問題を識別し、ユーザー動作の分析を収集します。 |  Azure Monitor (Application Insights)
Azure リソース - PaaS | 1.Azure Database サービス (SQL や mySQL など) | 1.Azure Database for SQL のパフォーマンス メトリック。 | 1.SQL データを Azure Monitor ログにストリーミングする診断ログを有効にします。
Azure リソース - IaaS | 1.Azure Storage<br/> 2.Azure Application Gateway<br/> 手順 3.ネットワーク セキュリティ グループ<br/> 4.Azure の Traffic Manager<br/> 5.仮想マシン<br/> 6.Azure Kubernetes Service/Azure Container Instances | 1.容量、可用性、およびパフォーマンス。<br/> 2.パフォーマンスと診断ログ (アクティビティ、アクセス、パフォーマンス、およびファイアウォール)。<br/> 手順 3.ルールが適用されたときのイベントと、拒否または許可を行うためにルールが適用された回数を示すルール カウンターを監視します。<br/> 4.エンドポイントの状態の可用性を監視します。<br/> 5.ゲスト VM OS の容量、可用性、およびパフォーマンスを監視します。 各 VM 上でホストされているアプリの依存関係をマップします。これには、サーバー間のアクティブなネットワーク接続の可視性、受信接続および送信接続の待機時間、任意の TCP 接続アーキテクチャでのポートなどが含まれます。<br/> 6.コンテナーおよびコンテナー インスタンス上で実行されるワークロードの容量、可用性、およびパフォーマンスを監視します。 | 1.Blob Storage のストレージ メトリック。<br/> 2.診断ログを有効にし、Azure Monitor ログへのストリーミングを構成します。<br/> 手順 3.ネットワーク セキュリティ グループの診断ログを有効にし、Azure Monitor ログへのストリーミングを構成します。<br/> 4.Traffic Manager エンドポイントの診断ログを有効にし、Azure Monitor ログへのストリーミングを構成します。<br/> 5.Azure Monitor for VMs の有効化<br/> 6.Azure Monitor for containers を有効にする
ネットワーク| ご利用の仮想マシンと 1 つまたは複数のエンドポイント (別の VM、完全修飾ドメイン名、Uniform Resource Identifier、または IPv4 アドレス) との間の通信です。 | VM とエンドポイントの間で発生する到達可能性、待機時間、およびネットワーク トポロジ変更を監視します。 | Azure Network Watcher
Azure サブスクリプション | Azure サービスの正常性と基本的なリソースの正常性 | <li> サービスまたはリソースに対して実行された管理操作。<br/><li> Azure サービスが低下状態または利用不可状態にあるサービス正常性。<br/><li> Azure サービスの観点から Azure リソースで検出された正常性の問題。<br/><li> 失敗または例外を示す Azure の自動スケーリングを使用して実行された操作。 <br/><li> 許可または拒否操作が発生したことを示す Azure Policy を使用して実行された操作。<br/><li> Azure Security Center によって生成されたアラートのレコード。 |Azure Resource Manager を使用して監視およびアラート通知用のアクティビティ ログで提供されます。
Azure テナント|Azure Active Directory || 診断ログを有効にし、Azure Monitor ログへのストリーミングを構成します。

<!-- markdownlint-enable MD033 -->

## <a name="hybrid-cloud-monitoring"></a>ハイブリッド クラウドの監視

多くの組織はクラウドに徐々に対処する必要がありますが、ハイブリッド クラウド モデルはこの取り組みの中で最も一般的な最初の手順です。 ビジネスの中断を回避しながら、適切なアプリケーションとインフラストラクチャのサブセットを慎重に選択して移行を開始します。 ただし、このクラウド モデルをサポートする監視プラットフォームは 2 つ用意されているため、IT の意思決定者は、ビジネスおよび IT の運用目標を達成するためにどちらが最適について迷います。 ここでは、不確実性に対処するためのいくつかの要素を確認し、考慮する必要があるプラットフォームについて説明します。

考慮する必要がある主要な技術面の一部を次に示します。

- ワークロードをサポートする Azure リソースからデータを収集し、それらをご利用の既存のオンプレミスまたはマネージド サービス プロバイダー ツールに転送する必要があります。

- System Center Operations Manager への現在の投資を維持し、Azure で実行されている IaaS および PaaS リソースを監視するように構成する必要があります。 場合によっては、要件に基づいて、特性の異なる 2 つの環境を監視することになるので、ご利用の戦略をサポートする Azure Monitor との統合を決定します。

- 単一のツールに標準化し、コスト/複雑さを軽減する最新化戦略の一環として、Azure およびご利用の企業ネットワーク内のリソースを監視するには、Azure Monitor にコミットします。

次の表は、一般的な条件のセットに基づいて、ハイブリッド クラウド モデルの監視を使用して Azure Monitor および System Center Operations Manager サポートする要件をまとめたものです。

<!-- markdownlint-disable MD033 -->

|要件 | Azure Monitor | Operations Manager |
|:--|:---|:---|
|インフラストラクチャの要件 | **いいえ** | **はい**<br> 少なくとも 1 つの管理サーバーと、オペレーション データベースとレポート データ ウェアハウス データベースをホストする SQL server が必要です。 HA/DR が必要な場合、複数のサイト内のマシン、信頼されていないシステムなどの複雑な設計上の考慮事項がある場合は、より複雑になります。|
|接続の制限 - インターネットなし<br> または分離されたネットワーク | **いいえ** | **はい** |
|接続の制限 - 制御されたインターネット アクセス | **はい** | **はい** |
|接続の制限 - 頻繁に切断 | **はい** | **はい** |
|構成可能な正常性の監視 | **いいえ** | **はい** |
| Web アプリの可用性テスト (分離されたネットワーク) | **はい - 制限あり**<br> この領域では Azure Monitor のサポートが制限されており、カスタム ファイアウォールの例外が必要です。 | **はい** |
| Web アプリの可用性テスト (グローバル分散) | **いいえ** | **はい** |
|VM ワークロードの監視 | **はい - 制限あり**<br> IIS および SQL Server のエラー ログ、Windows イベント、およびパフォーマンス カウンターを収集できます。 カスタム クエリ、アラート、および視覚化の作成が必要です。 | **はい**<br> 利用可能な管理パックを使用して、ほとんどのサーバー ワークロードの監視をサポートします。 VM 上に Log Analytics Windows エージェントまたは Operations Manager エージェントのいずれかを必要とし、企業ネットワーク上の管理グループに報告します。|
|Azure IaaS の監視 | **はい** | **はい**<br> 企業ネットワークからの大部分のインフラストラクチャの監視をサポートします。 Azure 管理パックを使用して、Azure VM、SQL、およびストレージの可用性の状態、メトリック、およびアラートを追跡します。|
|Azure PaaS の監視 | **はい** | **はい - 制限あり**<br> Azure 管理パックでサポートされている内容に基づいています。 |
|Azure サービスの監視 | **はい**<br> | **はい**<br> 現在、管理パックを介した Azure サービスの正常性のネイティブな監視は行われませんが、Azure サービスの正常性に関するアラートをクエリするためのカスタム ワークフローを作成できます。 Azure REST API を使用し、既存の通知を介してアラートを取得します。|
|最新の Web アプリケーションの監視 | **はい** | **いいえ** |
|レガシ Web アプリケーションの監視 | **はい、制限は SDK によって異なります**<br> .NET および Java Web アプリケーションのより古いバージョンの監視をサポートします。 | **はい - 制限あり** |
|Azure Kubernetes Service コンテナーを監視する | **はい** | **いいえ** |
|Docker/Windows コンテナーを監視する | **はい** | **いいえ** |
|ネットワーク パフォーマンスの監視 | **はい** | **はい - 制限あり**<br> 可用性チェックをサポートし、企業ネットワークから SNMP プロトコルを使用してネットワーク デバイスから基本的な統計情報を収集します。|
|対話型データ分析 | **はい** | **いいえ**<br> SQL Server Reporting Services の既定またはカスタムのレポート、サードパーティの視覚化ソリューション、またはカスタムの Power BI 実装に依存しています。 Operations Manager データ ウェアハウスには、スケールとパフォーマンスの制限があります。 データ集約要件に対する代替手段として Azure Monitor ログと統合します。 統合は、Log Analytics コネクターを構成することによって達成されます。|
|エンドツーエンドの診断、根本原因の分析、および適切なタイミングでのトラブルシューティング | **はい** | **はい - 制限あり**<br> エンドツーエンドの診断とトラブルシューティングは、オンプレミスのインフラストラクチャとアプリケーションに対してのみサポートされます。 他の System Center コンポーネントまたはパートナー ソリューションを使用します。|
|対話的な視覚化 (ダッシュボード) | **はい** | **はい - 制限あり**<br> HTLM5 Web コンソール、または Squared Up や Savision などのパートナー ソリューションの高度なエクスペリエンスを備えた基本的なダッシュボードを提供します。 |
|IT/DevOps ツールとの統合 | **はい** | **はい - 制限あり** |

<!-- markdownlint-enable MD033 -->

### <a name="collect-and-stream-monitoring-data-to-third-party-or-on-premises-tools"></a>監視データを収集してサード パーティ ツールまたはオンプレミス ツールにストリーミングする

Azure インフラストラクチャおよびプラットフォームのリソースからメトリックとログを収集するには、それらのリソースを対象にした Azure 診断ログを有効にする必要があります。 さらに、Azure VM を使用すると、Azure Diagnostics の拡張機能を有効にして、ゲスト オペレーティング システムからメトリックとログを収集できます。 Azure リソースから生成された診断データをオンプレミスのツールまたはマネージド サービス プロバイダーに転送するには、それらをストリーミングするように [Event Hubs](https://docs.microsoft.com/azure/azure-monitor/platform/diagnostic-logs-stream-event-hubs) を構成します。

### <a name="monitor-with-system-center-operations-manager"></a>System Center Operations Manager を使用して監視する

System Center Operations Manager は、元々、IT 環境で実行されているアプリケーション、ワークロード、インフラストラクチャ全体を監視するオンプレミス ソリューションとして設計されましたが、クラウド監視機能を含むように進化し、Azure、Office 365、およびアマゾン ウェブ サービス (AWS) と統合されています。 このような多様な環境を監視し、それらをサポートするように設計および更新された管理パックを使用できます。  

IT サービスマネジメント プロセスおよびツールと緊密に統合された包括的な監視を実現するために Operations Manager に多額の投資を行ってきたお客様や、Azure を初めて使用するお客様であれば、次のような疑問を持っても当然です。

- Operations Manager は価値を提供し続けることができるか。また、ビジネス上の意味はあるか。

- Operations Manager の機能が自社の IT 組織に適しているかどうか。

- Operations Manager と Azure Monitor を統合することで、コスト効率に優れた包括的な監視ソリューションを実現できるか。

既に Operations Manager に投資している場合は、すぐに置き換えるために移行の計画に集中する必要はありません。 Azure または他のクラウド プロバイダーが独自のオンプレミス ネットワークの拡張機能として存在する場合、Operations Manager はゲスト VM と Azure リソースを企業ネットワーク上にある場合と同様に監視できます。 これには、お客様のネットワークと Azure 仮想ネットワークの間に十分な帯域幅を持つ信頼性の高いネットワーク接続が必要です。

Azure で実行されているワークロードを監視するには、次のものが必要です。

- Web ロール、worker ロール、Application Insights 可用性テスト (Web テスト)、Service Bus などの Analysis Services から出力されたパフォーマンス メトリックを収集するための [Azure 管理パック](https://www.microsoft.com/download/details.aspx?id=50013)。この管理パックでは、Azure REST API を使用して、これらのリソースの可用性とパフォーマンスを監視します。 一部の Azure サービスの種類には、メトリックまたは事前定義されたモニターが管理パックに含まれていませんが、検出されたサービスの Azure 管理パックで定義されたリレーションシップを通じて監視できます。

- SQL Server システム ビューに対して Azure REST API と T-SQL クエリを使用し、Azure SQL データベースと Azure SQL データベース サーバーの可用性とパフォーマンスを監視する [Azure SQL Database 管理パック](https://www.microsoft.com/download/details.aspx?id=38829)。

- SQL Server、IIS、Apache Tomcat など、VM 上で実行されているゲスト OS とワークロードを監視するには、アプリケーション、サービス、およびオペレーティング システムをサポートする管理パックをダウンロードしてインポートする必要があります。

ナレッジは管理パックで定義されており、個々の依存関係およびコンポーネントを監視する方法が記述されています。 どちらの Azure 管理パックでも、これらのリソースの監視を開始するには、Azure と Operations Manager の一連の構成手順を実行する必要があります。

アプリケーション層では、Operations Manager は .NET および Java の一部のレガシ バージョンに対して基本的なアプリケーション パフォーマンス監視機能を提供します。 ハイブリッド クラウド環境内の特定のアプリケーションがオフラインまたはネットワーク分離モードで動作し、パブリック クラウド サービスと通信できない場合、Operations Manager のアプリケーション パフォーマンス監視 (APM) は一部の限られたシナリオで実行可能なオプションです。 レガシ プラットフォーム上で実行されていないアプリケーションには、オンプレミスでのホストと、ファイアウォールを介した (直接またはプロキシ経由の) Azure との通信を許可する任意のパブリック クラウド内のホストのいずれであっても、Azure Monitor Application Insights を使用します。 これにより、ASP.NET、ASP.NET Core、Java、JavaScript、および Node.js を高度にサポートする、詳細なコードレベルの監視が提供されます。

外部に到達できる Web アプリケーションの場合は、[可用性の監視]( https://docs.microsoft.com/azure/azure-monitor/app/monitor-web-app-availability)と呼ばれる代理トランザクションの種類を有効にする必要があります。 アプリケーション、またはアプリが依存しているクリティカルな HTTP/HTTPS エンドポイントが使用可能で応答性があるかどうかを把握することは重要です。 Application Insights の可用性の監視を使用すると、複数の Azure データセンターからテストを実行し、グローバルな観点からご利用のアプリケーションの正常性について分析情報を得ることができます。

Operations Manager では Azure でホストされているリソースを監視できますが、Azure Monitor を含めることにはいくつかの利点があります。その利点で Operations Manager の制限を克服し、最終的な移行をサポートする強力な基盤を確立できます。 ここでは、ハイブリッド監視戦略に Azure Monitor を含める個々の推奨事項について見ていきます。  

#### <a name="disadvantage-of-using-operations-manager-by-itself"></a>Operations Manager を単独で使用する場合の欠点

1. Operations Manager での監視データの分析は、通常、管理パックに定義されている事前定義のビューを使用して実行されます。これには、コンソール、SQL Server Reporting Services (SSRS) レポート、またはエンド ユーザーが作成したカスタム ビューからアクセスします。 データのアドホック分析は、すぐには実行できません。 Operations Manager レポートは柔軟ではなく、監視データの長期保存を提供するデータ ウェアハウスは、拡張性やパフォーマンスに優れていません。また、IT 組織内のさまざまなペルソナの要件をサポートするには、T-SQL ステートメントの記述、Power BI ソリューションの開発、サードパーティ ソリューションの使用に関する専門知識が必要です。

2. Operations Manager のアラートは、複雑な式をサポートしておらず、アラートのノイズを削減し、それらの関係を表示して問題の根本原因を特定するためのアラートをグループ化する相関ロジックを含んでいません。

#### <a name="advantage-of-operations-manager--azure-monitor"></a>Operations Manager + Azure Monitor の利点

1. Azure Monitor ログは、Operations Manager の制限を回避し、Operations Manager データ ウェアハウス データベースを使用して重要なパフォーマンスとログ データを収集するためのソリューションです。 Azure Monitor では、Operations Manager のデータ ウェアハウスと比較して、より優れた分析、大量のデータを照会する際のより高いパフォーマンス、およびより長い保有期間が実現されます。 このクエリ言語を使用すると、数 TB のデータを対象にしたクエリを数秒で実行できる機能を使用して非常に複雑で高度なクエリを作成できます。 ご利用のデータを円グラフ、タイム チャート、およびその他のさまざまな視覚化にすばやく変換することができます。 SQL Server Reporting Services、カスタム SQL クエリ、またはこのデータを分析するためのその他の対処策に基づいて Operations Manager でレポートを操作する場合の制約はなくなりました。

2. Azure Monitor アラート管理ソリューションを実装することで、改善されたアラート エクスペリエンスを実現します。 Operations Manager 管理グループで生成されたアラートは Azure Monitor Log Analytics ワークスペースに転送されます。 特定のアラートのみを転送するように、Operations Manager から Azure Monitor ログへのアラート転送を担当するサブスクリプションを構成することができます。 たとえば、クエリの基準を満たすアラートのみを転送することで、傾向の問題管理や、エラーまたは問題の根本原因の調査を 1 つの画面で行いやすくなります。 さらに、Application Insights または他のソースからの他のログ データを関連付けることで、ユーザー エクスペリエンスの向上、稼働時間の増加、およびインシデントの解決時間の短縮に役立つ分析情報を得ることができます。

3. Azure のシンプルなアーキテクチャまたは多層アーキテクチャから、クラウドネイティブのインフラストラクチャとアプリケーションを監視し、Operations Manager を使用してオンプレミスのインフラストラクチャを監視します。 これには、1 つまたは複数の VM、可用性セットまたは仮想マシン スケール セットに配置された複数の VM、または Windows Server または Linux コンテナー上で実行されている Azure Kubernetes Service (AKS) にデプロイされたコンテナー化アプリケーションが含まれます。

4. System Center Operations Manager Health Check ソリューションを使用して、ご利用の System Center Operations Manager 管理グループにおけるリスクと正常性を前もって定期的に評価します。 これにより、管理グループに追加したカスタム機能を置き換える、または補完することができます。

5. Azure Monitor for VMs のマップ機能を使用すると、Azure VM とオンプレミス VM の間のネットワーク接続からの標準的な接続メトリックを監視できます。 これらのメトリックとして、応答時間、1 分あたりの要求数、トラフィックのスループット、リンクがあります。 失敗した接続の識別、トラブルシューティング、移行の検証の実施、セキュリティ分析の実行、サービスの全体的なアーキテクチャの検証ができます。 マップは、Windows および Linux システムのアプリケーション コンポーネントを自動的に検出したり、サービス間の通信をマップしたりできます。 これは、認識していなかった接続および依存関係の識別、Azure への移行の計画および検証、インシデント解決時の推論の最小化に役立ちます。

6. Network Performance Monitor を使用して、以下の要素間のネットワーク接続を監視します。

   - 企業ネットワークと Azure。

   - ミッション クリティカルな多層アプリケーションとマイクロサービス。

   - ユーザーの場所と Web ベースのアプリケーション (HTTP/HTTPS)。

   この戦略で、SNMP を必要としないネットワーク レイヤーの可視性が実現します。 対話型のトポロジ マップに、送信元と宛先のエンドポイント間の経路のホップバイホップ トポロジを表示することもできます。 Operations Manager のネットワーク監視や現在の環境で使用されているその他のネットワーク監視ツールを使用して同じ結果を得ようとするよりも、こちらの方が適切な選択です。

### <a name="monitor-with-azure-monitor"></a>Azure Monitor による監視

クラウドへの移行には多くの課題がありますが、多くの機会もあります。 組織は、1 つ以上のオンプレミスのエンタープライズ監視ツールから移行し、資本投資と運用コストを削減できる可能性があるだけでなく、Azure Monitor などのクラウド監視プラットフォームがクラウド規模で提供する利点も得られます。 監視とアラートの要件、既存の監視ツールの構成、クラウドに移行するワークロードを確認し、計画が完成したら Azure Monitor を構成します。

- シンプルなアーキテクチャから、または Azure、他のクラウド プロバイダー、および企業ネットワーク間でコンポーネントがホストされている多層アーキテクチャから、ハイブリッド インフラストラクチャとアプリケーションを監視します。 これには、1 つまたは複数の VM、可用性セットまたは仮想マシン スケール セットに配置された複数の VM、または Windows Server または Linux コンテナー上で実行されている Azure Kubernetes Service (AKS) にデプロイされたコンテナー化アプリケーションが含まれます。

- Azure Monitor for VMs、Azure Monitor for containers、および Application Insights を有効にして、インフラストラクチャとアプリケーションの問題を検出および診断します。 アプリケーションをサポートする複数のコンポーネントまたは依存関係から収集されたデータのさらに詳細な分析と相関関係には、Azure Monitor ログを使用する必要があります。

- アプリケーションとサービス コンポーネントのコア セットに適用できるインテリジェントなアラートを作成し、複雑なシグナルの動的しきい値でアラートのノイズを削減し、機械学習アルゴリズムに基づいたアラートの集計を利用して問題を迅速に特定します。

- IT 組織内のさまざまなペルソナの要件をサポートするために、クエリとダッシュボードのライブラリを定義します。

- ハイブリッドおよびクラウド リソース全体の監視、各リソースの監視基準、アラートのしきい値などを有効にするための標準と方法を定義します。  

- ロールベースのアクセス制御 (RBAC) を構成して、ユーザーとグループに対して、それらが管理を担当するリソースの監視データを操作するために必要なアクセス権のみを付与します。

- 各チームが必要に応じて監視とアラートの構成を作成、有効化、および調整できるように、自動化とセルフサービスを含めます。

## <a name="private-cloud-monitoring"></a>プライベート クラウドの監視

System Center Operations Manager を使用して、Azure Stack の総合的な監視を実現できます。 具体的には、仮想マシン上のテナント (リソース レベル) で実行されているワークロード、および、Azure Stack をホストしているインフラストラクチャ (物理サーバーとネットワーク スイッチ) を監視できます。 Azure Stack に含まれている[インフラストラクチャ監視機能](https://docs.microsoft.com/azure/azure-stack/azure-stack-monitor-health)を組み合わせて総合的な監視を実現することもできます。 これらの機能は、Azure Stack リージョンの正常性とアラート、および Azure Stack の [Azure Monitor サービス](https://docs.microsoft.com/azure/azure-stack/user/azure-stack-metrics-azure-data)を表示するために役立ちます。後者は、基本レベルのインフラストラクチャ メトリックと、ほとんどのサービスのログを提供します。

既に Operations Manager に投資している場合は、Azure Stack 管理パックを使用して、Azure Stack デプロイの可用性と正常性状態を監視します。 これには、リージョン、リソース プロバイダー、更新プログラム、更新プログラムの実行、スケール ユニット、ユニット ノード、インフラストラクチャ ロール、およびそれらのインスタンス (ハードウェア リソースで構成される論理エンティティ) が含まれます。 この管理パックでは、正常性および更新プログラムのリソース プロバイダーの REST API を使用して Azure Stack との通信が行われます。 物理サーバーとストレージ デバイスを監視するには、OEM ベンダーの管理パックを使用します (たとえば、Lenovo、Hewlett Packard、または Dell から提供されています)。 Operations Manager は、ネットワーク スイッチをネイティブに監視し、SNMP プロトコルを使用して基本的な統計を収集することができます。 Azure 管理パックでは、2 つの基本的な手順に従ってテナント ワークロードを監視できます。 監視するサブスクリプションを構成してから、そのサブスクリプション用のモニターを追加します。

## <a name="next-steps"></a>次の手順

> [!div class="nextstepaction"]
> [適切なデータの収集](./data-collection.md)
